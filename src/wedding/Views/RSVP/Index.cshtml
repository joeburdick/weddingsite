@model RSVP
@{
    ViewData["Title"] = "RSVP";
    Layout = "_Layout";
}
<form asp-action="Create">
    <div class="form-group">
        <label asp-for="SongRequest" class="col-md-2 control-label">Song Request</label>
        <div class="col-md-10">
            <input asp-for="SongRequest" class="form-control" />
        </div>
    </div>

    <div class="form-group">
        <label asp-for="SongBan" class="col-md-2 control-label">Song Ban</label>
        <div class="col-md-10">
            <input asp-for="SongBan" class="form-control" />
        </div>
    </div>

    <div class="form-group">
        <label asp-for="Guests" class="col-md-2 control-label">Guests</label>
        
        <table id="Guests">
            <tbody>
                @Html.EditorFor(m => m.Guests)
            </tbody>
        </table>

        <div class="col-md-offset-2 col-sm-10">
            <input id="AddGuest" type="button" class="btn btn-default" value="Add Guest" />
        </div>
    </div>

    <div class="form-group">
        <div class="col-md-offset-2 col-md-10">
            <input type="submit" class="btn btn-default" />
        </div>
    </div>
</form>


@section Scripts {
<script>
    $('#AddGuest').click(function () {
        var i = $(".guest-row").length;
        $.ajax({
            url: 'RSVP/AddGuest?index=' + i,
            success: function (data) {
                $('#Guests > tbody').append(data);
            },
            error: function (a, b, c) {
                alert(a + " " + b + " " + c);
            }
        });
    });
</script>

}
